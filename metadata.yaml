name: astrbot_plugin_owcx
desc: 亚服《守望先锋 2》战绩查询插件，支持绑定战网Tag
author: tzyc
repo: https://github.com/TZYCeng/astrbot_plugin_owcx

# 插件元数据
metadata:
  # 插件信息
  display_name: "守望先锋战绩查询"
  description: "功能完善的守望先锋战绩查询插件，支持自动重试、缓存、详细统计信息"
  version: "1.1.0"
  author: "tzyc"
  
  # 分类标签
  tags:
    - "游戏"
    - "守望先锋"
    - "战绩查询"
    - "OW2"
    - "Overwatch"
  
  # 支持的AstrBot版本
  astrbot_version: ">=3.0.0"
  
  # 依赖信息
  dependencies:
    - "aiohttp>=3.9"
  
  # 插件类别
  category: "entertainment"
  
  # 插件主页
  homepage: "https://github.com/TZYCeng/astrbot_plugin_owcx"
  
  # 许可证
  license: "MIT"
  
  # 支持的语言
  languages:
    - "zh-CN"
    - "en"
  
  # 功能特性
  features:
    - "战绩查询"
    - "用户绑定"
    - "缓存机制"
    - "错误重试"
    - "详细统计"
    - "API监控"
  
  # 配置选项
  config:
    - name: "api_base"
      type: "string"
      default: "https://overfast-api.tekrop.fr"
      description: "API基础地址"
      required: false
    
    - name: "timeout"
      type: "number"
      default: 10
      description: "请求超时时间(秒)"
      required: false
    
    - name: "max_retries"
      type: "number"
      default: 3
      description: "最大重试次数"
      required: false
    
    - name: "enable_cache"
      type: "boolean"
      default: true
      description: "是否启用缓存"
      required: false
    
    - name: "cache_ttl"
      type: "number"
      default: 300
      description: "缓存时间(秒)"
      required: false
    
    - name: "log_level"
      type: "string"
      default: "INFO"
      description: "日志级别"
      required: false
      options: ["DEBUG", "INFO", "WARNING", "ERROR", "CRITICAL"]
  
  # 命令列表
  commands:
    - name: "ow"
      description: "查询守望先锋战绩"
      usage: "/ow [玩家标签]"
      alias: ["守望", "ow2"]
    
    - name: "ow绑定"
      description: "绑定战网标签"
      usage: "/ow绑定 玩家#12345"
      alias: ["owbind", "绑定ow"]
    
    - name: "ow解绑"
      description: "解除战网标签绑定"
      usage: "/ow解绑"
      alias: ["owunbind", "解绑ow"]
    
    - name: "ow帮助"
      description: "显示帮助信息"
      usage: "/ow帮助"
      alias: ["owhelp", "ow?"]
    
    - name: "ow状态"
      description: "显示插件状态"
      usage: "/ow状态"
      alias: ["owstatus", "状态ow"]
  
  # 权限要求
  permissions:
    - "发送消息"
    - "读取消息"
    - "文件系统访问"
    - "网络访问"
  
  # 更新日志
  changelog:
    - version: "1.1.0"
      date: "2025-10-01"
      changes:
        - "修复API域名失效问题"
        - "增强错误处理"
        - "添加详细统计信息"
        - "限流"
        - "将API请求分为五段整合后再发出减少超时可能"
        - "增加申请管控防止过量请求"

    - version: "1.0.0"
      date: "2025-10-01"
      changes:
        - "修复API域名失效问题"
        - "添加自动重试机制"
        - "实现缓存功能"
        - "增强错误处理"
        - "添加详细统计信息"
        - "支持限流控制"
        - "改进消息格式"
        - "添加插件状态监控"
    
    - version: "0.0.2"
      date: "2025-09-30"
      changes:
        - "原始版本发布"
        - "基础战绩查询功能"
        - "用户绑定功能"
  
  # 联系方式
  contact:
    qq_group: "710574642"
    github: "https://github.com/TZYCeng/astrbot_plugin_owcx"
    issues: "https://github.com/TZYCeng/astrbot_plugin_owcx/issues"